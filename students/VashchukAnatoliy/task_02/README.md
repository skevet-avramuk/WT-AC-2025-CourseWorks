# –ú–∏–∫—Ä–æ-—Ç–≤–∏—Ç—Ç–µ—Ä ¬´–ú—ã—Å–ª–∏ –≤—Å–ª—É—Ö¬ª

**–í–∞—Ä–∏–∞–Ω—Ç 20** | –ö—É—Ä—Å–æ–≤–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ –≤–µ–±-—Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º

## üìã –û–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞

–ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ—Ä–æ—Ç–∫–∏—Ö –º—ã—Å–ª–µ–π (–º–∏–∫—Ä–æ–±–ª–æ–≥–∏–Ω–≥), –∞–Ω–∞–ª–æ–≥ Twitter/X —Å –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Ñ—É–Ω–∫—Ü–∏—è–º–∏: –ø—É–±–ª–∏–∫–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤, –ª–∞–π–∫–∏, —Ä–µ–ø–æ—Å—Ç—ã, –ø–æ–¥–ø–∏—Å–∫–∏, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏ –º–æ–¥–µ—Ä–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

## üèóÔ∏è –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
test_02/
‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îú‚îÄ‚îÄ .github/             # CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ workflows/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ci.yml
‚îÇ   ‚îú‚îÄ‚îÄ apps/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server/          # Backend (NestJS + Prisma + PostgreSQL)
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ web/             # Frontend (React + TypeScript + Vite)
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ public/
‚îÇ   ‚îÇ       ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ...
‚îÇ   ‚îú‚îÄ‚îÄ docs/                # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ PROJECT_IMPLEMENTATION_PLAN.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BACKEND_ANALYSIS.md
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ BACKEND_READINESS_CHECK.md
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ R2_TechStack.md
‚îÇ   ‚îú‚îÄ‚îÄ e2e/                 # E2E —Ç–µ—Å—Ç—ã (Playwright)
‚îÇ   ‚îú‚îÄ‚îÄ k8s/                 # Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base/
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ README.md
‚îÇ   ‚îú‚îÄ‚îÄ playwright-report/   # –û—Ç—á–µ—Ç—ã Playwright
‚îÇ   ‚îî‚îÄ‚îÄ test-results/        # –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤
‚îú‚îÄ‚îÄ docker-compose.yml       # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ playwright.config.ts     # Playwright –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ package.json             # –ö–æ—Ä–Ω–µ–≤–æ–π package.json (monorepo)
‚îî‚îÄ‚îÄ README.md
```

## üõ†Ô∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend (Server)

- **Framework**: NestJS 11.x
- **Language**: TypeScript 5.7.x
- **ORM**: Prisma 6.16.x
- **Database**: PostgreSQL 16
- **Authentication**: JWT (passport-jwt)
- **Validation**: class-validator + class-transformer
- **Documentation**: Swagger/OpenAPI 11.x
- **Security**: Helmet, CORS, bcrypt

### Frontend (Web)

- **Framework**: React 18.x
- **Language**: TypeScript 5.7.x
- **Build Tool**: Vite 6.x
- **Routing**: React Router DOM v7
- **State Management**: Zustand + TanStack Query
- **Styling**: Tailwind CSS 3.x
- **HTTP Client**: Axios

### DevOps

- **Containerization**: Docker + Docker Compose
- **Database Migrations**: Prisma Migrate

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Node.js 20.x –∏–ª–∏ –≤—ã—à–µ
- npm 10.x –∏–ª–∏ –≤—ã—à–µ
- Docker –∏ Docker Compose (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- PostgreSQL 16 (–µ—Å–ª–∏ –±–µ–∑ Docker)

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤—Å–µ—Ö –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π (root + server + web)
npm run install:all
```

### –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

- 1.–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ `src/apps/server/`:

```env
DATABASE_URL="postgresql://postgres:postgres@localhost:5432/micro_twitter"
JWT_SECRET="your-super-secret-jwt-key-change-in-production"
PORT=3000
```

- 2.–ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
npm run db:migrate
```

- 3.(–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –±–∞–∑—É —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏:

```bash
npm run db:seed
```

### –ó–∞–ø—É—Å–∫ –≤ —Ä–µ–∂–∏–º–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

#### –í–∞—Ä–∏–∞–Ω—Ç 1: –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫

```bash
# –¢–µ—Ä–º–∏–Ω–∞–ª 1: –ó–∞–ø—É—Å–∫ backend
npm run dev:server

# –¢–µ—Ä–º–∏–Ω–∞–ª 2: –ó–∞–ø—É—Å–∫ frontend
npm run dev:web
```

- Backend: http://localhost:3000
- Frontend: http://localhost:5173
- Swagger API Docs: http://localhost:3000/api/docs
- Prisma Studio: `npm run db:studio`

#### –í–∞—Ä–∏–∞–Ω—Ç 2: Docker Compose

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
npm run docker:up

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
npm run docker:down

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤
npm run docker:build
```

## üìö API Documentation

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ backend, Swagger –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–æ—Å—Ç—É–ø–Ω–∞ –ø–æ –∞–¥—Ä–µ—Å—É:
**http://localhost:3000/api/docs**

### –û—Å–Ω–æ–≤–Ω—ã–µ endpoints

#### Authentication

- `POST /api/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `POST /api/auth/login` - –í—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

#### Posts

- `POST /api/posts` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ—Å—Ç–∞
- `GET /api/posts/feed` - –õ–µ–Ω—Ç–∞ –ø–æ—Å—Ç–æ–≤ (–ø–æ–¥–ø–∏—Å–∫–∏)
- `GET /api/posts/explore` - –û–±—â–∞—è –ª–µ–Ω—Ç–∞ (–≤—Å–µ –ø–æ—Å—Ç—ã)
- `GET /api/posts/:id` - –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
- `PATCH /api/posts/:id` - –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞
- `DELETE /api/posts/:id` - –£–¥–∞–ª–µ–Ω–∏–µ –ø–æ—Å—Ç–∞

#### Likes

- `POST /api/likes/posts/:postId` - –õ–∞–π–∫ –ø–æ—Å—Ç–∞
- `DELETE /api/likes/posts/:postId` - –£–¥–∞–ª–∏—Ç—å –ª–∞–π–∫

#### Follows

- `POST /api/follows/:userId` - –ü–æ–¥–ø–∏—Å–∞—Ç—å—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `DELETE /api/follows/:userId` - –û—Ç–ø–∏—Å–∞—Ç—å—Å—è
- `GET /api/follows/followers` - –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å—á–∏–∫–æ–≤
- `GET /api/follows/following` - –°–ø–∏—Å–æ–∫ –ø–æ–¥–ø–∏—Å–æ–∫

#### Replies (–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏)

- `POST /api/replies/posts/:postId` - –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `GET /api/replies/posts/:postId` - –ü–æ–ª—É—á–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –ø–æ—Å—Ç—É

#### Reports (–ñ–∞–ª–æ–±—ã)

- `POST /api/reports/posts/:postId` - –ü–æ–∂–∞–ª–æ–≤–∞—Ç—å—Å—è –Ω–∞ –ø–æ—Å—Ç
- `GET /api/reports/my` - –ú–æ–∏ –∂–∞–ª–æ–±—ã

#### Admin (–ú–æ–¥–µ—Ä–∞—Ü–∏—è)

- `GET /api/admin/reports` - –°–ø–∏—Å–æ–∫ –∂–∞–ª–æ–±
- `PATCH /api/admin/reports/:id/status` - –ò–∑–º–µ–Ω–∏—Ç—å —Å—Ç–∞—Ç—É—Å –∂–∞–ª–æ–±—ã
- `POST /api/admin/posts/:id/moderate` - –ú–æ–¥–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å—Ç
- `GET /api/admin/moderation-logs` - –õ–æ–≥–∏ –º–æ–¥–µ—Ä–∞—Ü–∏–∏

## üóÑÔ∏è –ú–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö

### –û—Å–Ω–æ–≤–Ω—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏

- **User**: id, username, email, password, role, createdAt
- **Post**: id, content, authorId, createdAt, updatedAt
- **Like**: id, userId, postId, createdAt
- **Follow**: id, followerId, followingId, createdAt
- **Reply**: id, content, authorId, postId, createdAt
- **Report**: id, reason, status, reporterId, postId, createdAt

## üìä –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### ‚úÖ Backend (100%)

- –ü–æ–ª–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ NestJS —Å –º–æ–¥—É–ª—å–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π
- –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è (JWT + Roles)
- CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö —Å—É—â–Ω–æ—Å—Ç–µ–π
- Prisma ORM —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- Swagger API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- –ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (Unit + E2E)

### ‚úÖ –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (100%)

- Docker Compose –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- PostgreSQL —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ –º–∏–≥—Ä–∞—Ü–∏—è–º–∏
- Seed —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (100%)

- 31 unit-—Ç–µ—Å—Ç–æ–≤ (100% coverage –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π)
- 25 E2E —Ç–µ—Å—Ç–æ–≤ backend API
- 10 Playwright —Ç–µ—Å—Ç–æ–≤ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è CI/CD –ø–∞–π–ø–ª–∞–π–Ω–∞

### ‚úÖ DevOps & Kubernetes (100%)

- GitHub Actions CI/CD –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- Kubernetes –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã (Deployments, Services, ConfigMaps)
- Horizontal Pod Autoscaler
- Ingress –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞
- Kustomize –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –º–∞–Ω–∏—Ñ–µ—Å—Ç–∞–º–∏

## üìù –°–∫—Ä–∏–ø—Ç—ã

```bash
# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
npm run dev:server        # –ó–∞–ø—É—Å–∫ backend –≤ dev —Ä–µ–∂–∏–º–µ
npm run dev:web          # –ó–∞–ø—É—Å–∫ frontend –≤ dev —Ä–µ–∂–∏–º–µ

# –°–±–æ—Ä–∫–∞
npm run build:server     # –°–±–æ—Ä–∫–∞ backend
npm run build:web        # –°–±–æ—Ä–∫–∞ frontend

# –ü—Ä–æ–¥–∞–∫—à–Ω
npm run start:server     # –ó–∞–ø—É—Å–∫ backend –≤ prod —Ä–µ–∂–∏–º–µ
npm run preview:web      # Preview frontend —Å–±–æ—Ä–∫–∏

# –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
npm run db:migrate       # –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
npm run db:studio        # –û—Ç–∫—Ä—ã—Ç—å Prisma Studio
npm run db:seed          # –ó–∞–ø–æ–ª–Ω–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏

# Docker
npm run docker:up        # –ó–∞–ø—É—Å–∫ –≤ Docker
npm run docker:down      # –û—Å—Ç–∞–Ω–æ–≤–∫–∞ Docker
npm run docker:build     # –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
npm run test             # –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
npm run test:coverage    # –ü–æ–∫—Ä—ã—Ç–∏–µ –∫–æ–¥–∞ —Ç–µ—Å—Ç–∞–º–∏
```

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- JWT —Ç–æ–∫–µ–Ω—ã –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- –ü–∞—Ä–æ–ª–∏ —Ö–µ—à–∏—Ä—É—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é bcrypt
- Helmet –¥–ª—è –∑–∞—â–∏—Ç—ã HTTP –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- Role-based access control (USER, MODERATOR, ADMIN)
